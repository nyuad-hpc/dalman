<!DOCTYPE html>
<html>
<head>
  <meta http-equiv='content-type' value='text/html;charset=utf8'>
  <meta name='generator' value='Ronn/v0.7.3 (http://github.com/rtomayko/ronn/tree/0.7.3)'>
  <title>Dalma Man Pages (dalman) </title>
  <style type='text/css' media='all'>
  /* style: man */
  body#manpage {margin:0}
  .mp {max-width:100ex;padding:0 9ex 1ex 4ex}
  .mp p,.mp pre,.mp ul,.mp ol,.mp dl {margin:0 0 20px 0}
  .mp h2 {margin:10px 0 0 0}
  .mp > p,.mp > pre,.mp > ul,.mp > ol,.mp > dl {margin-left:8ex}
  .mp h3 {margin:0 0 0 4ex}
  .mp dt {margin:0;clear:left}
  .mp dt.flush {float:left;width:8ex}
  .mp dd {margin:0 0 0 9ex}
  .mp h1,.mp h2,.mp h3,.mp h4 {clear:left}
  .mp pre {margin-bottom:20px}
  .mp pre+h2,.mp pre+h3 {margin-top:22px}
  .mp h2+pre,.mp h3+pre {margin-top:5px}
  .mp img {display:block;margin:auto}
  .mp h1.man-title {display:none}
  .mp,.mp code,.mp pre,.mp tt,.mp kbd,.mp samp,.mp h3,.mp h4 {font-family:monospace;font-size:14px;line-height:1.42857142857143}
  .mp h2 {font-size:16px;line-height:1.25}
  .mp h1 {font-size:20px;line-height:2}
  .mp {text-align:justify;background:#fff}
  .mp,.mp code,.mp pre,.mp pre code,.mp tt,.mp kbd,.mp samp {color:#131211}
  .mp h1,.mp h2,.mp h3,.mp h4 {color:#030201}
  .mp u {text-decoration:underline}
  .mp code,.mp strong,.mp b {font-weight:bold;color:#131211}
  .mp em,.mp var {font-style:italic;color:#232221;text-decoration:none}
  .mp a,.mp a:link,.mp a:hover,.mp a code,.mp a pre,.mp a tt,.mp a kbd,.mp a samp {color:#0000ff}
  .mp b.man-ref {font-weight:normal;color:#434241}
  .mp pre {padding:0 4ex}
  .mp pre code {font-weight:normal;color:#434241}
  .mp h2+pre,h3+pre {padding-left:0}
  ol.man-decor,ol.man-decor li {margin:3px 0 10px 0;padding:0;float:left;width:33%;list-style-type:none;text-transform:uppercase;color:#999;letter-spacing:1px}
  ol.man-decor {width:100%}
  ol.man-decor li.tl {text-align:left}
  ol.man-decor li.tc {text-align:center;letter-spacing:4px}
  ol.man-decor li.tr {text-align:right;float:right}
  </style>
</head>
<!--
  The following styles are deprecated and will be removed at some point:
  div#man, div#man ol.man, div#man ol.head, div#man ol.man.

  The .man-page, .man-decor, .man-head, .man-foot, .man-title, and
  .man-navigation should be used instead.
-->
<body id='manpage'>
  <div class='mp' id='man'>

  <div class='man-navigation' style='display:none'>
    <a href="#SYNOPSIS">SYNOPSIS</a>
    <a href="#DESCRIPTION">DESCRIPTION</a>
    <a href="#AUTHORS">AUTHORS</a>
    <a href="#SEE-ALSO">SEE ALSO</a>
  </div>

  <ol class='man-decor man-head man head'>
    <li class='tl'>dalma-run_parallel_job_array</li>
    <li class='tc'>Dalma Manual</li>
    <li class='tr'>dalma-run_parallel_job_array</li>
  </ol>

  <h1>Dalma Man Pages (dalman) </h1>
<h2 id="SYNOPSIS">SYNOPSIS</h2>

<p>Ths page explains how to Running a series of jobs with one command.</p>

<h2 id="DESCRIPTION">DESCRIPTION</h2>

<p>1.- Login Dalma.</p>

<p>2.- Always create a new folder for each job array to prevent cross contamination. Use /fastscratch unless you are going to read / write very large sequential files in parallel.</p>

<p>  ----------------------------------------------------------</p>

<p>  <code>mkdir my-job-arry-workspace</code></p>

<p>  <code>cd my-job-array-workspace</code></p>

<p>  ----------------------------------------------------------</p>

<p>3.- Prepare a text file contains all the commands to be run by the job array. One command per line:</p>

<p>----------------------------------------------------------</p>

<p>  <code>Example, in commands.txt:</code></p>

<pre><code class="``">  ./lapack_example 1
  ./lapack_example 2
  ./helloworld 3
  ./lapack_example 4
  ./lapack_example 5
</code></pre>

<p>----------------------------------------------------------</p>

<p>4.- Run our job array tool, slurm_lck_ja_submit.sh, with command text file as argument. E.g., <code>$TOOLDIR/slurm_parallel_ja_submit.sh commands.txt</code>. The legacy <code>pbs_parallel_ja_submit.sh</code> will work as well. The job script will be automatically created and submitted. A job ID will pop up on screen. Mark it down for future reference:</p>

<p>----------------------------------------------------------</p>

<p>  Example:</p>

<p>  <code>$TOOLDIR/slurm_parallel_ja_submit.sh commands.txt</code></p>

<p>  or</p>

<p>  (not recommened) <code>$TOOLDIR/pbs_parallel_ja_submit.sh commands.txt</code></p>

<p>  Screen output:</p>

<p>  <code>Submitted batch job 6298</code> # 6298 is the job id</p>

<p>----------------------------------------------------------</p>

<p>5.- Output will be continuously appended to “output.log” in the working folder. Use squeue to check job status. Notice that the tasks might not be completed sequentially, as the CPUs are competing for jobs for best performance:</p>

<p>----------------------------------------------------------</p>

<p>  <code>Example output in out.log:</code></p>

<pre><code class="``">  For n = 1 the approx. condition number is 0.100E+01
  For n = 2 the approx. condition number is 0.169E+02
  helloworld
  For n = 4 the approx. condition number is 0.645E+03
  For n = 5 the approx. condition number is 0.287E+02
</code></pre>

<p>----------------------------------------------------------</p>

<h2 id="AUTHORS">AUTHORS</h2>

<pre><code>NYUAD HPC Apps Team:
--------------------
    - Benoit Marchand
    - Guowei He
    - Jorge Naranjo
</code></pre>

<h2 id="SEE-ALSO">SEE ALSO</h2>

<p><a href="https://sites.google.com/a/nyu.edu/hpcad/howtos" title="Documentation">Please refer to the online documentation available at:</a></p>


  <ol class='man-decor man-foot man foot'>
    <li class='tl'>NYUAD</li>
    <li class='tc'>July 2016</li>
    <li class='tr'>dalma-run_parallel_job_array</li>
  </ol>

  </div>
</body>
</html>

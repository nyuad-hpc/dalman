<!DOCTYPE html>
<html>
<head>
  <meta http-equiv='content-type' value='text/html;charset=utf8'>
  <meta name='generator' value='Ronn/v0.7.3 (http://github.com/rtomayko/ronn/tree/0.7.3)'>
  <title>Dalma Man Pages (dalman) </title>
  <style type='text/css' media='all'>
  /* style: man */
  body#manpage {margin:0}
  .mp {max-width:100ex;padding:0 9ex 1ex 4ex}
  .mp p,.mp pre,.mp ul,.mp ol,.mp dl {margin:0 0 20px 0}
  .mp h2 {margin:10px 0 0 0}
  .mp > p,.mp > pre,.mp > ul,.mp > ol,.mp > dl {margin-left:8ex}
  .mp h3 {margin:0 0 0 4ex}
  .mp dt {margin:0;clear:left}
  .mp dt.flush {float:left;width:8ex}
  .mp dd {margin:0 0 0 9ex}
  .mp h1,.mp h2,.mp h3,.mp h4 {clear:left}
  .mp pre {margin-bottom:20px}
  .mp pre+h2,.mp pre+h3 {margin-top:22px}
  .mp h2+pre,.mp h3+pre {margin-top:5px}
  .mp img {display:block;margin:auto}
  .mp h1.man-title {display:none}
  .mp,.mp code,.mp pre,.mp tt,.mp kbd,.mp samp,.mp h3,.mp h4 {font-family:monospace;font-size:14px;line-height:1.42857142857143}
  .mp h2 {font-size:16px;line-height:1.25}
  .mp h1 {font-size:20px;line-height:2}
  .mp {text-align:justify;background:#fff}
  .mp,.mp code,.mp pre,.mp pre code,.mp tt,.mp kbd,.mp samp {color:#131211}
  .mp h1,.mp h2,.mp h3,.mp h4 {color:#030201}
  .mp u {text-decoration:underline}
  .mp code,.mp strong,.mp b {font-weight:bold;color:#131211}
  .mp em,.mp var {font-style:italic;color:#232221;text-decoration:none}
  .mp a,.mp a:link,.mp a:hover,.mp a code,.mp a pre,.mp a tt,.mp a kbd,.mp a samp {color:#0000ff}
  .mp b.man-ref {font-weight:normal;color:#434241}
  .mp pre {padding:0 4ex}
  .mp pre code {font-weight:normal;color:#434241}
  .mp h2+pre,h3+pre {padding-left:0}
  ol.man-decor,ol.man-decor li {margin:3px 0 10px 0;padding:0;float:left;width:33%;list-style-type:none;text-transform:uppercase;color:#999;letter-spacing:1px}
  ol.man-decor {width:100%}
  ol.man-decor li.tl {text-align:left}
  ol.man-decor li.tc {text-align:center;letter-spacing:4px}
  ol.man-decor li.tr {text-align:right;float:right}
  </style>
</head>
<!--
  The following styles are deprecated and will be removed at some point:
  div#man, div#man ol.man, div#man ol.head, div#man ol.man.

  The .man-page, .man-decor, .man-head, .man-foot, .man-title, and
  .man-navigation should be used instead.
-->
<body id='manpage'>
  <div class='mp' id='man'>

  <div class='man-navigation' style='display:none'>
    <a href="#SYNOPSIS">SYNOPSIS</a>
    <a href="#WARNING">WARNING</a>
    <a href="#DESCRIPTION">DESCRIPTION</a>
    <a href="#AUTHORS">AUTHORS</a>
    <a href="#SEE-ALSO">SEE ALSO</a>
  </div>

  <ol class='man-decor man-head man head'>
    <li class='tl'>dalma-run_matlab</li>
    <li class='tc'>Dalma Manual</li>
    <li class='tr'>dalma-run_matlab</li>
  </ol>

  <h1>Dalma Man Pages (dalman) </h1>
<h2 id="SYNOPSIS">SYNOPSIS</h2>

<p>Ths page explains how to use Matlab on Dalma.</p>

<h2 id="WARNING">WARNING</h2>

<p>Use <code>matlab -nodesktop -nosplash -nodisplay -nojvm</code> instead of <code>matlab</code> to invoke Matlab on compute nodes. Otherwise it will hang, as no X11 is allowed on compute node. Use visualization node to plot huge dataset. For the moment, visualization is yet to be migrated. This page will be updated as soon as it is available.</p>

<h2 id="DESCRIPTION">DESCRIPTION</h2>

<p>There are 2 ways to use Matlab. The first one is to run it interactively. The second one is to submit it as a job. Follow the instructions below.</p>

<h3 id="RUN-MATLAB-INTERACTIVELY">RUN MATLAB INTERACTIVELY</h3>

<p>1.- Login Dalma.</p>

<p>2- (Optional) Start an interactive session, by following the <code>run_job_interactive</code> section in the Documentation.</p>

<p>2.- Run this in terminal to load Matlab module:</p>

<p>  ----------------------------------------------------------</p>

<p>   <code>module load NYUAD/3.0</code></p>

<p>   <code>module load matlab/R2015b</code></p>

<p>  ----------------------------------------------------------</p>

<p>3.- Run this in terminal to start Matlab:</p>

<p>----------------------------------------------------------</p>

<p>  <code>matlab -nodesktop -nosplash -nodisplay -nojvm</code></p>

<p>----------------------------------------------------------</p>

<p>4.- Alternatively, run this to execute a Matlab script :</p>

<p>----------------------------------------------------------</p>

<p>  <code>matlab -nodesktop -nosplash -nodisplay -nojvm -r "run('&lt;path-to-mfile>/&lt;your-mfile>.m');"</code></p>

<p>----------------------------------------------------------</p>

<h3 id="SUBMIT-A-MATLAB-JOB">SUBMIT A MATLAB JOB</h3>

<p>To accomplish this, follow the steps:</p>

<p>1.- Prepare a SLURM job script following the example below.</p>

<p>2.- Submit the job.</p>

<p><code>Job script for a serial Matlab job. Save it using a meaningful filename. E.g., "matlab.sh"</code></p>

<pre><code>#!/bin/bash 
# Set number of nodes to run
#SBATCH --nodes=1
# Set number of tasks to run
#SBATCH --ntasks=1
# Set number of cores per task (default is 1)
#SBATCH --cpus-per-task=1
# Walltime format hh:mm:ss
#SBATCH --time=00:30:00
# Output and error files
#SBATCH -o job.%J.out
#SBATCH -e job.%J.err

# **** Actual commands start here ****
# Load modules here (safety measure)
module purge
module load NYUAD/3.0
module load matlab/R2015b

# Replace this with your actual command. 
`matlab -nodesktop -nosplash -nodisplay -nojvm -r "run('&lt;path-to-mfile>/&lt;your-mfile>.m');"`
</code></pre>

<p><code>Submit the job</code></p>

<pre><code>sbatch matlab.sh
</code></pre>

<h2 id="AUTHORS">AUTHORS</h2>

<pre><code>NYUAD HPC Apps Team:
--------------------
    - Benoit Marchand
    - Guowei He
    - Jorge Naranjo
</code></pre>

<h2 id="SEE-ALSO">SEE ALSO</h2>

<p>Please refer to the online documentation available <a href="https://nyuad-hpc.github.io/dalman/html/dalma.html">here</a></p>


  <ol class='man-decor man-foot man foot'>
    <li class='tl'>NYUAD</li>
    <li class='tc'>August 2016</li>
    <li class='tr'>dalma-run_matlab</li>
  </ol>

  </div>
</body>
</html>

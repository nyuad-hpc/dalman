.\" generated with Ronn/v0.7.3
.\" http://github.com/rtomayko/ronn/tree/0.7.3
.
.TH "DALMA\-RUN_JOB_THREADS" "" "July 2016" "NYUAD" "Dalma Manual"
.
.SH "SYNOPSIS"
You want to run a job with multi\-threading (OpenMP, Pthreads and etc) application, but without multi\-processing (e\.g\., MPI)\.
.
.SH "DESCRIPTION"
To accomplish this, follow the steps:
.
.P
1\.\- Specify the resouces required in Slurm directives in job script\. Most importantly, \fB\-\-cpus\-per\-task\fR for cpus per tasks\.
.
.P
2\.\- Submit the job\.
.
.SH "EXAMPLE"
\fBJob script for an OpenMP job with 28 threads, fully ultilizing 1 compute node\.\fR
.
.IP "" 4
.
.nf

    #!/bin/bash
    # Set number of tasks to run
    #SBATCH \-n 1

    # Set number of cores per task (default is 1)
    #SBATCH \-\-cpus\-per\-task=28

    # You may want to be exclusive on the compute node
    ##SBATCH \-\-exclusive

    # Use serial partition
    #SBATCH \-p serial

    # Output and error files
    #SBATCH \-o job\.%J\.out
    #SBATCH \-e job\.%J\.err

    # Set number of OMP threads
    export OMP_NUM_THREADS=${SLURM_CPUS_PER_TASK}

    # Load modules here (safety measure)
    module purge

    # You may need to load gcc here \.\. This is application specific
    # module load gcc

    \./omp\-hello
.
.fi
.
.IP "" 0
.
.SH "AUTHORS"
.
.nf

NYUAD HPC Apps Team:
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-
    \- Benoit Marchand
    \- Guowei He
    \- Jorge Naranjo
.
.fi
.
.SH "SEE ALSO"
Please refer to the online documentation available at: \fIhttps://sites\.google\.com/a/nyu\.edu/hpcad/howtos\fR
